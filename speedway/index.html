<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- Viewport meta tag is already present and good -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Speedway Racer - Turtle Race Name Picker Game | Daily Pick</title>
  <meta name="description"
    content="Fire up Speedway, the ultimate turtle race name picker. Let colorful racers decide stand-up order, pick presenters, and energize your team or classroom.">
  <meta name="keywords"
    content="turtle race name picker, speedway racer, random name picker, stand-up order game, turtle racing, agile icebreaker, meeting energizer, classroom participation game, remote team activity, Daily Pick tools, fair speaking order">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dailypick.dev/speedway/">
  <meta property="og:title" content="Speedway Racer - Turtle Race Name Picker | Daily Pick">
  <meta property="og:description"
    content="Launch a turtle race name picker to set speaking order, choose winners, and keep meetings fun.">
  <meta property="og:image" content="https://dailypick.dev/assets/og-image-main.png">
  <meta property="og:image:alt" content="Colorful turtle racers sprinting toward the finish line in Daily Pick's Speedway game">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Speedway Racer - Turtle Race Name Picker | Daily Pick">
  <meta name="twitter:description" content="Spin up a turtle race name picker and let Daily Pick‚Äôs Speedway decide who goes next, every time.">
  <meta name="twitter:image" content="https://dailypick.dev/assets/og-image-main.png">
  <meta name="twitter:image:alt" content="Colorful turtle racers sprinting toward the finish line in Daily Pick's Speedway game">

  <link rel="canonical" href="https://dailypick.dev/speedway/">
  <!-- Favicon Links -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/site.webmanifest">
  <link rel="shortcut icon" href="/assets/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="theme-color" content="#ffffff">

  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="/assets/js/results-pip.js" defer></script>
  <!-- Socket.IO client for real-time features -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script> 
  <!-- Universal Collaboration Module -->
  <link rel="stylesheet" href="/assets/css/collaboration.css">
  <script src="/assets/js/collaboration.js" defer></script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Speedway Racer",
    "operatingSystem": "Any",
    "applicationCategory": "GameApplication",
    "url": "https://dailypick.dev/speedway/",
    "image": "https://dailypick.dev/assets/og-image-main.png",
    "description": "Play Speedway Racer by Daily Pick‚Äîa turtle racing game that randomizes speaking order and keeps teams engaged.",
    "publisher": {
      "@type": "Organization",
      "name": "Daily Pick",
      "url": "https://dailypick.dev"
    }
  }
  </script>
</head>

<body>
  <h1>üèÅ Speedway: Turtle Race Name Picker üèÅ</h1>

  <button id="settingsToggleBtn">‚öôÔ∏è Show Settings</button>
  <div id="config-area" class="config-hidden">
    <label for="namesInput">Enter racer names (one per line or comma-separated):</label>
    <textarea id="namesInput" rows="4"></textarea>
    <button id="updateNamesBtn">Update Racers</button>
  </div>

  <div class="game-layout">
    <div id="track-container">
      <div id="start-line"></div>
      <div id="finish-line-visual"></div>
      <!-- Racers will be dynamically added here by JS -->
    </div>
    <div id="results-area">
      <h2>Order:</h2>
      <button id="speedwayPipBtn" class="pip-trigger" type="button"
        data-pip-target="#results-area"
        data-pip-title="Speedway Results"
        data-pip-exclude="#speedwayPipBtn"
        data-pip-width="320"
        data-pip-height="420">Open in Picture in Picture</button>
      <ol id="standupOrderList"></ol>
    </div>
  </div>

  <button id="startRaceBtn">üöÄ Start Race!</button>

  <div class="seo-content-area">
    <h2>Speedway Racer: The Turtle Race Name Picker Your Team Will Cheer For</h2>
    <p><strong>Speedway Racer</strong> by Daily Pick turns a simple stand-up order into a burst of excitement. This turtle race name picker lets you add your roster, press start, and watch colorful racers sprint for the finish line‚Äîwhoever wins sets the speaking order, assigns the next presenter, or snags the surprise prize. It‚Äôs fast, fair, and endlessly replayable.</p>

    <h3>How to Run a Speedway Race</h3>
    <ul>
      <li><strong>Load your racers:</strong> Paste names or import your saved list. Each teammate gets a lane and a turtle avatar.</li>
      <li><strong>Launch the race:</strong> Tap <em>Start Race</em> and watch real-time animation determine the winners.</li>
      <li><strong>Capture the results:</strong> The leaderboard updates instantly and can pop into Picture-in-Picture so facilitators keep it visible while screensharing.</li>
      <li><strong>Reset and rerun:</strong> Need another order? Hit restart for a brand-new outcome‚Äîno two races are the same.</li>
    </ul>

    <h3>Why Teams and Classrooms Love Speedway</h3>
    <ul>
      <li><strong>Fair randomization:</strong> Removes bias when choosing who goes next, who leads the demo, or who wins a giveaway‚Äîevery turtle race name picker finish is unique.</li>
      <li><strong>Instant engagement:</strong> The playful race animation keeps even camera-off participants glued to the screen.</li>
      <li><strong>Hybrid-friendly:</strong> Works equally well in conference rooms and remote stand-ups thanks to results sharing and PiP mode.</li>
      <li><strong>Education ready:</strong> Teachers use Speedway to select readers, presenters, and quiz participants without the stress.</li>
    </ul>

    <h3>Level Up Your Rituals with Daily Pick</h3>
    <ul>
      <li><strong>Pair with other games:</strong> After the race, spin the <a href="/wheel/">Daily Pick Decision Wheel</a> for follow-up tasks or drop into <a href="/trap/">Trap!</a> for a suspenseful tiebreaker.</li>
      <li><strong>Log the winners:</strong> Export the finishing order or feed it into your retro notes, Jira board, or team wiki.</li>
      <li><strong>Customize themes:</strong> Change racer names, colors, and track lengths to match your brand or classroom house system.</li>
      <li><strong>Keep the fun rolling:</strong> Combine Speedway with <a href="/letters/">Falling Letters Pinball</a> for an entire Daily Pick game session.</li>
    </ul>
    <p>Whether you‚Äôre running a sprint review, guiding a student debate, or just kicking off Friday with a laugh, <strong>Speedway Racer</strong> brings the energy. Fire up the turtles and let Daily Pick decide the order with style.</p>
  </div>


  <script>
    const DEFAULT_NAMES = ['Kate', 'Andre', 'Juan', 'Dmytro', 'Vetura', 'Zachary', 'Lindsay'];
    const LOCAL_STORAGE_KEY = 'namesList';
    let originalNames = [...DEFAULT_NAMES];

    const RACER_COLORS = [
      '#e74c3c', // Alizarin
      '#3498db', // Peter River
      '#2ecc71', // Emerald
      '#f1c40f', // Sun Flower
      '#9b59b6', // Amethyst
      '#e67e22', // Carrot
      '#1abc9c', // Turquoise
      '#34495e', // Wet Asphalt
      '#d35400', // Pumpkin
      '#27ae60', // Nephritis
      '#c0392b', // Pomegranate
    ];

    let racersData = []; // To store { name, element, position, finished, finishTime }
    let raceInProgress = false;
    let animationFrameId = null;

    const trackContainer = document.getElementById('track-container');
    const startRaceBtn = document.getElementById('startRaceBtn');
    const standupOrderList = document.getElementById('standupOrderList');
    const settingsToggleBtn = document.getElementById("settingsToggleBtn");
    const configArea = document.getElementById("config-area");
    const namesInput = document.getElementById("namesInput");
    const updateNamesBtn = document.getElementById("updateNamesBtn");

    // Calculate finish line based on percentage to be responsive
    const finishLinePercent = 90; // 90% of track width

    function loadNamesFromStorage() {
      const storedNamesJson = localStorage.getItem(LOCAL_STORAGE_KEY);
      if (storedNamesJson) {
        try {
          const storedNames = JSON.parse(storedNamesJson);
          if (Array.isArray(storedNames) && storedNames.length > 0) {
            originalNames = [...storedNames];
          }
        } catch (e) {
          console.error("Error parsing names from localStorage:", e);
          originalNames = [...DEFAULT_NAMES]; // Fallback on error
        }
      } else {
        originalNames = [...DEFAULT_NAMES];
      }
      namesInput.value = originalNames.join('\n');
    }

    function saveNamesToStorage() {
      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(originalNames));
    }

    function setupRacers() {
      trackContainer.querySelectorAll('.racer').forEach(el => el.remove()); // Clear old racers
      racersData = [];
      standupOrderList.innerHTML = ''; // Clear previous results
      startRaceBtn.disabled = originalNames.length === 0;
      startRaceBtn.textContent = "üöÄ Start Race!";

      if (originalNames.length === 0) {
        trackContainer.style.height = '100px'; // Minimal height if no racers
        return;
      }

      const racerHeight = 30; // Adjusted to match new CSS height
      const verticalGap = 10;
      const totalRacersHeight = originalNames.length * (racerHeight + verticalGap) - verticalGap;
      trackContainer.style.height = `${Math.max(150, totalRacersHeight + 40)}px`; // +40 for padding
      originalNames.forEach((name, index) => {
        const racerElement = document.createElement('div');
        racerElement.classList.add('racer');
        // Display turtle emoji and then the first 3 letters of the name
        racerElement.innerHTML = `<span style="font-size: 24px;">üê¢</span><span style="font-size: 0.7em; margin-left: 4px; filter: drop-shadow(1px 1px 0px rgba(0,0,0,0.5));">${name.substring(0, 3)}</span>`;
        racerElement.style.backgroundColor = RACER_COLORS[index % RACER_COLORS.length];

        // Position racers at the start line (5% from left)
        racerElement.style.left = `5%`;
        racerElement.style.top = `${20 + index * (racerHeight + verticalGap)}px`; // Stagger vertically

        trackContainer.appendChild(racerElement);
        racersData.push({
          name: name,
          element: racerElement,
          positionPercent: 5, // Start at 5%
          finished: false,
          finishTime: 0
        });
      });
    }

    function raceTick() {
      if (!raceInProgress) return;

      let allFinished = true;
      const trackWidth = trackContainer.offsetWidth;

      racersData.forEach(racer => {
        if (!racer.finished) {
          allFinished = false;
          // Move by a random small percentage of the track width
          const randomBoost = (Math.random() * 0.4) - 0.1; // Move between 0.2% and 0.7% of track width
          racer.positionPercent += randomBoost;
          racer.element.style.left = `${racer.positionPercent}%`;

          if (racer.positionPercent >= finishLinePercent) {
            racer.finished = true;
            racer.finishTime = performance.now(); // More precise timing
            racer.element.style.left = `${finishLinePercent}%`; // Snap to finish line

            // Add to results - we'll sort later for display if needed, or just append
            const listItem = document.createElement('li');
            listItem.textContent = racer.name;
            standupOrderList.appendChild(listItem); // Appends as they finish
          }
        }
      });

      if (allFinished) {
        raceInProgress = false;
        startRaceBtn.disabled = false;
        startRaceBtn.textContent = "üèÅ Race Again!";
        // Sort and display final order if needed (currently appends as they finish)
        // For example, if you wanted to sort by finishTime strictly:
        // racersData.sort((a, b) => a.finishTime - b.finishTime);
        // standupOrderList.innerHTML = ''; // Clear and re-populate
        // racersData.forEach(r => { /* ... add li ... */ });
        cancelAnimationFrame(animationFrameId);
      } else {
        animationFrameId = requestAnimationFrame(raceTick);
      }
    }

    function updateNamesFromInput() {
      const inputText = namesInput.value.trim();
      const newNames = inputText ? inputText.split(/[\n,]+/).map(name => name.trim()).filter(name => name.length > 0) : [];
      originalNames = newNames.length > 0 ? [...newNames] : [...DEFAULT_NAMES];
      namesInput.value = originalNames.join('\n');
      saveNamesToStorage();
      setupRacers(); // Re-setup racers with the new list
      // Optionally hide config: toggleConfigArea(false);
      if (raceInProgress) raceInProgress = false; // Stop current race if any
    }

    startRaceBtn.addEventListener('click', () => {
      if (raceInProgress) return;

      raceInProgress = true;
      startRaceBtn.disabled = true;
      startRaceBtn.textContent = "üö¶ Racing...";

      // Reset racers for a new race
      setupRacers(); // This also clears the results list

      animationFrameId = requestAnimationFrame(raceTick);
    });

    function toggleConfigArea(show) {
      if (show === undefined) {
        configArea.classList.toggle("config-hidden");
      } else if (show) {
        configArea.classList.remove("config-hidden");
      } else {
        configArea.classList.add("config-hidden");
      }
      settingsToggleBtn.textContent = configArea.classList.contains("config-hidden") ? "‚öôÔ∏è Show Settings" : "‚öôÔ∏è Hide Settings";
    }

    settingsToggleBtn.addEventListener("click", () => toggleConfigArea());
    updateNamesBtn.addEventListener("click", updateNamesFromInput);

    // Initial setup
    loadNamesFromStorage();
    setupRacers();
    toggleConfigArea(false); // Hide config by default
  </script>

</body>

</html>
