/* =========================================================
   Gravity Drift ‚Äî Liquid Glass styling (unified with site)
   - Uses glass.css tokens + header-safe offsets
   ========================================================= */

/* Smooth anchor/nav offset under sticky header */
html { scroll-padding-top: calc(var(--header-h, 64px) + 12px); }

body {
  font-family: var(--brand-font-family, 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif);
  background: var(--gd-bg);
  color: var(--brand-text, #e5e7eb);
  margin: 0;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* --- Game container (glass frame) --- */
.game-container {
  width: min(1100px, 94vw);
  margin: clamp(8px, 2.2vw, 16px) auto 0;
  padding: 16px 16px 22px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Canvas: keep sizing driven by JS; just style */
#gameCanvas {
  display: block;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: radial-gradient(120% 120% at 50% 0%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%);
  box-shadow: inset 0 0 24px rgba(0,0,0,.45);
  max-width: 100%;
}

#controls { margin-top: 14px; }
#startButton {
  padding: 12px 24px;
  font-size: 1.05rem;
  font-weight: 800;
  color: #fff;
  border: 1px solid rgba(255,255,255,.25);
  border-radius: var(--radius-md, 10px);
  background: linear-gradient(to bottom right, rgba(52,152,219,.9), rgba(41,128,185,.9));
  box-shadow: 0 10px 22px rgba(0,0,0,.18);
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
}
#startButton:hover,
#startButton:focus-visible {
  outline: none;
  transform: translateY(-2px);
  box-shadow: 0 14px 28px rgba(0,0,0,.24);
}

/* --- Leaderboard (glass card + PiP button) --- */
#leaderboard {
  position: fixed;
  top: calc(var(--header-h, 64px) + 10px);
  left: clamp(12px, 3vw, 24px);
  width: min(360px, 92vw);
  background: var(--glass-bg, rgba(15, 23, 42, 0.35));
  border: 1px solid var(--glass-border, rgba(255,255,255,.20));
  border-radius: var(--radius-lg, 15px);
  box-shadow: var(--glass-shadow, 0 10px 40px rgba(0,0,0,.35));
 
  padding: 16px 16px 12px;
  color: var(--brand-text, #e5e7eb);
  z-index: 32;
}
#leaderboard h2 {
  margin: 0 0 10px;
  text-align: center;
  color: var(--blue, #3498db);
  font-weight: 800;
}
#leaderboard .pip-trigger {
  width: 100%;
  margin: 10px 0 12px;
  padding: 10px 16px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.25);
  background: linear-gradient(135deg, rgba(52,152,219,.9), rgba(41,128,185,.9));
  color: #fff;
  font-weight: 800;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: .02em;
  box-shadow: 0 10px 22px rgba(0,0,0,.18);
  transition: transform .2s ease, box-shadow .2s ease;
}
#leaderboard .pip-trigger::before { content: 'ü™ü'; font-size: 1.1em; }
#leaderboard .pip-trigger:hover,
#leaderboard .pip-trigger:focus-visible {
  outline: none;
  transform: translateY(-1px);
  box-shadow: 0 14px 26px rgba(0,0,0,.24);
}
#leaderboard ul {
  list-style: none;
  padding: 0; margin: 0;
  max-height: 420px;
  overflow-y: auto;
}
#leaderboard li {
  padding: 8px 2px;
  border-bottom: 1px solid rgba(255,255,255,.12);
  font-size: .95em;
}
#leaderboard li:last-child { border-bottom: none; }
#leaderboard li b { color: #fff; }

/* Utility */
.hidden { display: none !important; }

/* --- SEO content (glass card) --- */
.seo-content {
  background: var(--glass-bg, rgba(255,255,255,.12));
  border: 1px solid var(--glass-border, rgba(255,255,255,.20));
  border-radius: var(--radius-lg, 15px);
  box-shadow: var(--glass-shadow, 0 10px 40px rgba(0,0,0,.35));
 
  padding: 24px 28px;
  max-width: 780px;
  width: min(92%, 780px);
  margin: 28px auto 0;
  text-align: left;
  line-height: 1.7;
  color: var(--brand-text, #e5e7eb);
}
.seo-content h1 {
  color: var(--blue, #3498db);
  font-size: 2rem;
  text-align: center;
  margin: 0 0 14px;
}
.seo-content h2 {
  color: var(--blue-600, #2980b9);
  margin: 18px 0 10px;
  font-size: 1.35rem;
  text-align: center;
}
.seo-content a {
  color: var(--blue-600, #2980b9);
  text-decoration: none;
  font-weight: 700;
}
.seo-content a:hover { text-decoration: underline; }

/* ============ Leaderboard ‚Äî max-width + mobile polish ============ */

/* Docked + readable (–∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –ø–∞—Ç—á—ñ) */
#leaderboard {
  position: static !important;
  left: auto; top: auto;
  width: 100%;
  max-width: 600px;                 /* <-- requested */
  margin: 16px auto 0;              /* —Ü–µ–Ω—Ç—Ä —É –ø–æ—Ç–æ—Ü—ñ */
  background: var(--lb-solid, #0e1421) !important;
  border: 1px solid rgba(255,255,255,.08) !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  box-shadow: 0 18px 40px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.10);
  border-radius: 16px;
  color: #eef2ff;
  padding: 18px 18px 14px;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */
#leaderboard h2 {
  color: #fff;
  margin: 0 0 10px;
  font-weight: 800;
  letter-spacing: .01em;
}

/* PiP-–∫–Ω–æ–ø–∫–∞: –≤–µ–ª–∏–∫–∏–π —Ç–∞–ø-—Ç–∞—Ä–≥–µ—Ç */
#leaderboard .pip-trigger {
  display: inline-flex;
  align-items: center; justify-content: center; gap: 8px;
  width: 100%;
  min-height: 44px;                 /* –º–æ–±—ñ–ª—å–Ω–∏–π —Ç–∞–ø-—Ç–∞—Ä–≥–µ—Ç */
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.22);
  background: linear-gradient(135deg, #3a8fd8, #2b6ea6);
  color: #fff;
  font-weight: 800;
}

/* –°–ø–∏—Å–æ–∫ */
#leaderboard ul {
  max-height: min(68vh, 560px);
  overflow-y: auto;
  padding-right: 6px;
  margin: 10px 0 0;
  scroll-behavior: smooth;
}
#leaderboard li {
  color: rgba(255,255,255,.95);
  line-height: 1.5;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,.14);
  word-wrap: break-word;            /* –∑–∞–ø–æ–±—ñ–≥–∞—î –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É —Å–∫—Ä–æ–ª—É */
}
#leaderboard li:last-child { border-bottom: none; }
#leaderboard li b { color: #fff; font-weight: 800; }


/* –ü–ª–∞–Ω—à–µ—Ç —ñ –º–æ–±—ñ–ª—å–Ω—ñ: —Å—Ç–µ–∫, –±—ñ–ª—å—à—ñ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –ø–æ–ª—è, –±–µ–∑ ¬´—Å–∫–ª—è–Ω–æ–≥–æ¬ª —à—É–º—É */
@media (max-width: 900px) {
  #leaderboard {
    margin: 14px auto 0;
    padding: 16px 16px 12px;
    box-shadow: 0 12px 26px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.08);
  }
}

/* –í—É–∑—å–∫—ñ –º–æ–±—ñ–ª—å–Ω—ñ */
@media (max-width: 520px) {
  #leaderboard {
    border-radius: 14px;
    padding: 14px 14px 10px;
  }
  #leaderboard h2 { font-size: 1.1rem; }
  #leaderboard .pip-trigger { font-size: .95rem; }
  #leaderboard ul { max-height: 56vh; }
}

/* –î—É–∂–µ –≤—É–∑—å–∫—ñ (iPhone SE / safe areas) */
@media (max-width: 380px) {
  #leaderboard { margin-inline: max(8px, env(safe-area-inset-left)); }
  .game-container { padding: 12px 8px 18px; }
}

/* –ö–∞—Å—Ç–æ–º–Ω–∏–π —Å–∫—Ä–æ–ª–±–∞—Ä (–¥–µ–ª—ñ–∫–∞—Ç–Ω–∏–π —ñ –≤–∏–¥–∏–º–∏–π) */
#leaderboard ul::-webkit-scrollbar { width: 10px; }
#leaderboard ul::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,.28);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
#leaderboard ul::-webkit-scrollbar-track { background: transparent; }

/* –°–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞ (–∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ) */
:root.light #leaderboard {
  --lb-solid: #ffffff;
  color: #0b1220;
  border-color: rgba(0,0,0,.10) !important;
  box-shadow: 0 14px 32px rgba(0,0,0,.16), inset 0 1px 0 rgba(255,255,255,.6);
}
:root.light #leaderboard h2,
:root.light #leaderboard li b { color: #0b1220; }
:root.light #leaderboard li { color: rgba(11,18,32,.95); border-bottom-color: rgba(0,0,0,.10); }

/* --- Responsive --- */
@media (max-width: 900px) {
  #leaderboard {
    position: relative;
    top: auto; left: auto;
    margin: 12px auto 0;
  }
}

@media (max-width: 520px) {
  .seo-content { padding: 18px 16px; }
  .seo-content h1 { font-size: 1.8rem; }
  .seo-content h2 { font-size: 1.2rem; }
}

/* --- Reduced motion --- */
@media (prefers-reduced-motion: reduce) {
  #startButton,
  #leaderboard .pip-trigger {
    transition: none !important;
    transform: none !important;
  }
}
