<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentum Mayhem | Daily Pick</title>
    <meta name="description" content="A real-time collaborative physics game where users work together to push a ball into moving traps, triggering chaotic special effects.">

    <!-- Favicon Links (copy from other games if needed) -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/site.webmanifest">
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/ballgame/style.css">
    <!-- Universal Collaboration Module -->
    <link rel="stylesheet" href="/assets/css/collaboration.css">
    <script src="/assets/js/collaboration.js" defer></script>
</head>

<body>
    <h1>üî¥ Momentum Mayhem üî¥</h1>
    <p>Click to push the ball into the traps! The game ends when all traps are filled.</p>

    <div id="sessionInfo">
        Session ID: <span id="currentSessionIdDisplay"></span>
        <button id="copySessionUrlBtn">Copy Session URL</button>
    </div>

    <button id="startGameBtn">Start New Game</button>
    <button id="howToPlayBtn">How to Play</button>

    <!-- Settings Area, similar to Speedway -->
    <button id="settingsToggleBtn">‚öôÔ∏è Show Settings</button>
    <div id="config-area" class="config-hidden">
        <label for="namesInput">Enter player names (one per line or comma-separated):</label>
        <textarea id="namesInput" rows="4"></textarea>
        <button id="updateNamesBtn">Update & Start New Game</button>
    </div>

    <div id="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <div id="countdown-overlay">
            <div id="countdown"></div>
        </div>
        <div id="game-over-overlay">
            <h2>Game Over!</h2>
            <p>Order of captured players:</p>
            <ol id="winner-list"></ol>
            <button id="restartGameBtn">Start New Game</button>
        </div>
    </div>

    <div id="captured-list-container">
        <h2>Captured Players:</h2>
        <ul id="captured-list">
            <!-- Captured players will be listed here -->
        </ul>
    </div>

    <div id="how-to-play-modal" class="hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>How to Play Momentum Mayhem</h2>
            <div class="guide-section">
                <h3>Objective</h3>
                <p>The goal of the game is to work together with other players to push the red ball into all of the moving blue traps. The game is over when every trap has captured the ball.</p>
            </div>
            <div class="guide-section">
                <h3>Controls</h3>
                <p>Simply click anywhere on the game canvas. A force will be applied to the ball, pushing it away from your click. The closer you click to the ball, the stronger the push.</p>
            </div>
            <div class="guide-section">
                <h3>The Traps</h3>
                <p>The blue circles on the screen are the traps. Each trap is assigned to a player name. When the ball enters a trap, that player's name is added to the "Captured Players" list, and the trap disappears.</p>
            </div>
            <div class="guide-section">
                <h3>Special Effects</h3>
                <p>Capturing a trap can trigger a random special effect that changes the game dynamics for a short period. These include:</p>
                <ul>
                    <li><strong>Speed Boost:</strong> The ball's speed is dramatically increased.</li>
                    <li><strong>Size Change:</strong> The ball becomes either much larger or smaller.</li>
                    <li><strong>Trap Frenzy:</strong> All remaining traps move at a much faster speed.</li>
                </ul>
            </div>
            <div class="guide-section">
                <h3>Multiplayer</h3>
                <p>This game is designed for collaboration! Share the session URL with your friends to have them join your game. All players control the same ball in real-time. You can customize the names of the players/traps in the settings menu.</p>
            </div>
        </div>
    </div>

    <script src="/ballgame/ball-game.js"></script>

</body>

</html>
